{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","newFilter","handelFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handelNameChange","newNumber","handelNumberChange","type","Persons","personToShow","deletePerson","map","person","name","number","onClick","id","Notification","message","className","content","baseUrl","personService","getAll","axios","get","then","response","data","createItem","newObject","post","deleteItem","delete","updateItem","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","showAll","setShowAll","setMessage","useEffect","initialPersons","filter","toLowerCase","includes","event","target","length","preventDefault","checkPerson","find","window","confirm","changePerson","returnedPerson","setTimeout","catch","error","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1c26a838.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ newFilter, handelFilterChange }) => {\n  return (\n    <div>\n      filter shown with <input value={newFilter} onChange={handelFilterChange}/>\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div>\n        name: <input value={props.newName} onChange={props.handelNameChange}/>\n      </div>\n      <div>\n        number: <input value={props.newNumber} onChange={props.handelNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ personToShow, deletePerson }) => {\n  return (\n    personToShow.map(person => {\n      return (\n        <div key={person.id}>\n          <span>{person.name} {person.number} </span>\n          <button onClick={() => deletePerson(person)}>delete</button>\n        </div>\n      )\n    })\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={`notification ${message.type}`}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst createItem = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteItem = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst updateItem = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst personService = { getAll, createItem, deleteItem, updateItem }\n\nexport default personService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const personToShow = showAll\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(newFilter.toLowerCase())\n      )\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const checkPerson = persons.find(person => person.name === newName)\n    if (checkPerson) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const changePerson = { ...checkPerson, number: newNumber }\n        personService\n          .updateItem(checkPerson.id, changePerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== checkPerson.id ? person : returnedPerson))\n            setMessage({\n              content: `Upgrade ${returnedPerson.name} success`,\n              type: 'success'\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setMessage({\n              content: `Information of ${newName} has already been removed from server`,\n              type: 'error'\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = { name: newName, number: newNumber }\n      personService\n        .createItem(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage({\n            content: `Add ${returnedPerson.name} success`,\n            type: 'success'\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = target => {\n    if (window.confirm(`Delete ${target.name} ?`)) {\n      personService\n        .deleteItem(target.id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== target.id))\n          setMessage({\n            content: `Delete ${target.name} success`,\n            type: 'success'\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(person => person.id !== target.id))\n          setMessage({\n            content: `Information of ${newName} has already been removed from server`,\n            type: 'error'\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n  \n  const handelNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handelNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handelFilterChange = (event) => {\n    setNewFilter(event.target.value)\n    if (event.target.value.length > 0) {\n      setShowAll(false)\n    } else {\n      setShowAll(true)\n    }\n  }\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter newFilter={newFilter} handelFilterChange={handelFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handelNameChange={handelNameChange}\n        handelNumberChange={handelNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons personToShow={personToShow} deletePerson={deletePerson} />\n    </>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}